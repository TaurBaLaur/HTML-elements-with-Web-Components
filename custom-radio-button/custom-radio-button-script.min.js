class CustomRadioButton extends HTMLElement{#a;#b;#c;#d;#e;#f;#g;#h;#i;constructor(){super(),this.#a="on",this.#b=this.#d=!1,this.#c=0,this.#i=this.attachInternals();let e=this.attachShadow({mode:"closed"}),t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://taurbalaur.github.io/HTML-elements-with-Web-Components/custom-radio-button/custom-radio-button-styles.min.css"),e.appendChild(t);let s=document.createElement("div");s.setAttribute("tabindex","0"),e.appendChild(s),this.#e=s}#j(e=!1){this.name&&this.#k(),e&&this.#e.blur(),!this.#i.states.has("checked")&&(this.#i.states.add("checked"),e&&this.dispatchEvent(new CustomEvent("custom-change",{bubbles:!0,detail:{checked:this.checked,name:this.getAttribute("name"),value:this.value}})))}#k(){if(this.#h){let t=this.#l();t&&(t.checked=!1)}}#l(){let s;return(s="CUSTOM-FORM"===this.#h.tagName?this.#h.querySelectorAll(`custom-radio-button:state(checked)[name=${this.getAttribute("name")}]`):this.#h.querySelectorAll(`custom-radio-button:state(checked)[name=${this.getAttribute("name")}]:not(custom-form *)`))&&s.length?s[0]===this?s[1]:s[0]:null}connectedCallback(){this.#h=this.closest("custom-form"),this.#h||(this.#h=this.parentElement),this.checked&&this.#j(),this.addEventListener("pointerdown",()=>{this.#i.states.add("active"),this.#f=!0,this.#g=this}),document.addEventListener("pointerup",e=>{e.target!==this.#g||this.disabled||this.#j(!0),this.#i.states.delete("active"),this.#f=!1,this.#g=null}),window.addEventListener("blur",()=>{this.#i.states.delete("active")}),this.#e.addEventListener("focus",()=>{this.#f||this.#i.states.add("focused")}),this.#e.addEventListener("blur",()=>{this.#i.states.delete("focused")}),this.addEventListener("keydown",e=>{"Space"===e.code&&this.#i.states.has("focused")&&(e.preventDefault(),this.#i.states.add("active"))}),this.addEventListener("keyup",e=>{this.#i.states.has("focused")&&"Space"===e.code&&(this.disabled||this.#j(),this.#i.states.delete("active"))})}static get observedAttributes(){return["checked","disabled","tabindex","name","value"]}attributeChangedCallback(e,t,s){if(s!==t){if("checked"===e)null===s?this.#b=!1:this.#b=!0,this.#d||(this.#b?this.#i.states.add("checked"):this.#i.states.delete("checked"));else if("disabled"===e)null===s?(this.#i.states.delete("disabled"),this.#e.setAttribute("tabindex","0")):(this.#i.states.add("disabled"),this.#e.removeAttribute("tabindex"));else if("tabindex"===e){if(null===s)this.#c=0;else{let i=parseInt(s);isNaN(i)||i>=0?this.removeAttribute("tabindex"):this.#c=i}}else"name"===e?""===s?this.removeAttribute("name"):s&&this.checked&&this.#k():"value"===e&&(null===s?this.#a="on":this.#a=s)}}get defaultChecked(){return this.#b}set defaultChecked(e){this.setAttribute("checked",e)}get checked(){return this.#i.states.has("checked")}set checked(e){this.#d||(this.#d=!0),e?this.#j():this.#i.states.delete("checked")}get disabled(){return this.#i.states.has("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get tabIndex(){return this.#c}set tabIndex(e){let t=parseInt(e);!isNaN(t)&&t<0&&this.setAttribute("tabindex",t)}get name(){return this.getAttribute("name")}set name(e){this.setAttribute("name",e)}get value(){return this.#a}set value(e){this.setAttribute("value",e)}reset(){this.#d=!1,this.#b?this.#i.states.add("checked"):this.#i.states.delete("checked")}}customElements.define("custom-radio-button",CustomRadioButton);