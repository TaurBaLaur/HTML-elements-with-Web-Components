class CustomInput extends HTMLElement{#a;#b;#c;#d;#e;#f;#g;#h;#i;#j;#k(){this.#i.scrollTo(0,0)}constructor(){super(),this.#a="text",this.#b=this.#c=this.#d="",this.#e=this.#f=!1,this.#g=0,this.#h=this.attachShadow({mode:"closed",delegatesFocus:!0});let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://taurbalaur.github.io/HTML-elements-with-Web-Components/custom-input/custom-input-styles.min.css"),this.#h.appendChild(t)}connectedCallback(){if("text"===this.#a){let t=document.createElement("div");t.setAttribute("contenteditable","plaintext-only"),t.setAttribute("placeholder",this.#d),t.setAttribute("spellcheck",this.#e),t.innerText=this.#b,t.classList.add("textinput"),this.#i=t,this.#h.appendChild(t),this.addEventListener("pointerdown",()=>{this.#j=!0}),this.addEventListener("focus",()=>{if(!this.#j){let t=document.createRange();t.selectNodeContents(this.#i),window.getSelection().removeAllRanges(),window.getSelection().addRange(t)}}),this.#i.addEventListener("blur",()=>{this.#j=!1,this.#k()}),this.#i.addEventListener("input",()=>{"<br>"===this.#i.innerHTML&&(this.#i.innerHTML=""),this.#g||(this.#g=1),this.#b=this.#i.innerText}),this.#i.addEventListener("keydown",t=>{"Enter"===t.key&&(t.preventDefault(),this.#i.blur(),this.#k())})}else this.#a="text",this.connectedCallback()}static get observedAttributes(){return["type","value","placeholder","spellcheck","disabled"]}attributeChangedCallback(t,e,s){s!==e&&("type"===t?this.setAttribute("type","text"):"value"===t?(this.#c=s,!this.#g&&(this.#b=s,this.#i&&(this.#i.innerText=s))):"placeholder"===t?null===s?(this.#d="",this.#i?.removeAttribute(t)):(this.#d=s,this.#i?.setAttribute(t,s)):"spellcheck"===t?null===s?(this.#e=!1,this.#i?.setAttribute(t,!1)):(this.#e=!0,this.#i?.setAttribute(t,!0)):"disabled"===t&&(null===s?(this.#f=!1,this.#i&&this.#i.innerHTML.includes("<br>")&&(this.#i.innerHTML=""),this.#i?.setAttribute("contenteditable","plaintext-only")):(this.#f=!0,this.#i&&""===this.#b.trim()&&""===this.#d.trim()&&(this.#i.innerHTML="<br>"),this.#i?.removeAttribute("contenteditable"))))}get type(){return this.#a}set type(t){this.setAttribute("type",t)}get value(){return this.#b}set value(t){this.#g||(this.#g=1),this.#i.innerText=t,this.#b=t}get defaultValue(){return this.#c}set defaultValue(t){this.setAttribute("value",t)}get placeholder(){return this.#e}set placeholder(t){this.setAttribute("placeholder",t)}get spellcheck(){return this.#e}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get disabled(){return this.#f}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}customElements.define("custom-input",CustomInput);
