class CustomInput extends HTMLElement{#a;#b;#c;#d;#e;#f;#g;#h;#i;#j;#k;#l;constructor(){super(),this.#a="text",this.#b=this.#c=this.#d="",this.#e=this.#g=!1,this.#f=0,this.#l=this.attachInternals(),this.#k=this.attachShadow({mode:"closed",delegatesFocus:!0});let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://taurbalaur.github.io/HTML-elements-with-Web-Components/custom-input/custom-input-styles.min.css"),this.#k.appendChild(t)}#m(){this.#h.scrollTo(0,0),this.#j&&(this.dispatchEvent(new CustomEvent("custom-change",{bubbles:!0,detail:{name:this.getAttribute("name"),value:this.value}})),this.#j=!1)}connectedCallback(){if("text"===this.#a){let t=document.createElement("div");this.#l.states.has("disabled")||t.setAttribute("contenteditable","plaintext-only"),t.setAttribute("placeholder",this.#d),t.setAttribute("spellcheck",this.#e),t.innerText=this.#b,t.classList.add("textinput"),this.#h=t,this.#k.appendChild(t),this.addEventListener("pointerdown",()=>{this.disabled||(this.#i=!0,this.#l.states.add("active"))}),document.addEventListener("pointerup",()=>{this.#l.states.delete("active")}),window.addEventListener("blur",()=>{this.#l.states.delete("active")}),this.addEventListener("focus",()=>{if(this.#l.states.add("focused"),!this.#i){let t=document.createRange();t.selectNodeContents(this.#h),window.getSelection().removeAllRanges(),window.getSelection().addRange(t)}}),this.#h.addEventListener("blur",()=>{this.#l.states.delete("focused"),this.#i=!1,this.#m()}),this.#h.addEventListener("input",()=>{"<br>"===this.#h.innerHTML&&(this.#h.innerHTML=""),this.#g||(this.#g=1),this.#b=this.#h.innerText,this.#j=!0,this.dispatchEvent(new CustomEvent("custom-input",{bubbles:!0,detail:{name:this.getAttribute("name"),value:this.value}}))}),this.#h.addEventListener("keydown",t=>{"Enter"===t.key&&(t.preventDefault(),this.#h.blur())})}else this.#a="text",this.connectedCallback()}static get observedAttributes(){return["type","placeholder","spellcheck","disabled","tabindex","name","value"]}attributeChangedCallback(t,e,s){if(s!==e){if("type"===t)this.setAttribute("type","text");else if("placeholder"===t)null===s?(this.#d="",this.#h?.removeAttribute(t)):(this.#d=s,this.#h?.setAttribute(t,s));else if("spellcheck"===t)null===s?(this.#e=!1,this.#h?.setAttribute(t,!1)):(this.#e=!0,this.#h?.setAttribute(t,!0));else if("disabled"===t)null===s?(this.#h&&this.#h.innerHTML.includes("<br>")&&(this.#h.innerHTML=""),this.#h?.setAttribute("contenteditable","plaintext-only"),this.#l.states.delete("disabled")):(this.#h&&""===this.#b.trim()&&""===this.#d.trim()&&(this.#h.innerHTML="<br>"),this.#h?.removeAttribute("contenteditable"),this.#l.states.add("disabled"));else if("tabindex"===t){if(null===s)this.#f=0;else{let i=parseInt(s);isNaN(i)||i>=0?this.removeAttribute("tabindex"):this.#f=i}}else"name"===t?""===s&&this.removeAttribute("name"):"value"===t&&(this.#c=s,!this.#g&&(this.#b=s,this.#h&&(this.#h.innerText=s)))}}get type(){return this.#a}set type(t){this.setAttribute("type",t)}get value(){return this.#b}set value(t){this.#g||(this.#g=1),this.#h&&(this.#h.innerText=t),this.#b=t}get defaultValue(){return this.#c}set defaultValue(t){this.setAttribute("value",t)}get placeholder(){return this.#e}set placeholder(t){this.setAttribute("placeholder",t)}get spellcheck(){return this.#e}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get disabled(){return this.#l.states.has("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get tabIndex(){return this.#f}set tabIndex(t){let e=parseInt(t);!isNaN(e)&&e<0&&this.setAttribute("tabindex",e)}}customElements.define("custom-input",CustomInput);