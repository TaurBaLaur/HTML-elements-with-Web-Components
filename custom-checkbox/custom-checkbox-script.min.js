class CustomCheckbox extends HTMLElement{#a;#b;#c;#d;#e;#f;#g;#h;#i;constructor(){super(),this.#a="on",this.#b=!1,this.#e=this.#c=0;let e=this.attachShadow({mode:"closed"});this.#i=this.attachInternals();let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://taurbalaur.github.io/HTML-elements-with-Web-Components/custom-checkbox/custom-checkbox-styles.css"),e.appendChild(t);let s=document.createElement("div");s.setAttribute("tabindex","0"),this.#f=s,e.appendChild(s)}#j(){this.disabled||(this.#e||(this.#e=1),this.checked?this.#i.states.delete("checked"):this.#i.states.add("checked"))}#k(){this.#f.blur(),this.#j()}connectedCallback(){this.addEventListener("pointerdown",()=>{this.#i.states.add("active"),this.#g=!0,this.#h=this}),document.addEventListener("pointerup",e=>{e.target===this.#h?(this.#i.states.delete("active"),this.#k()):this.#h===this&&this.#i.states.delete("active"),this.#g=!1,this.#h=null}),this.#f.addEventListener("focus",()=>{this.#g||this.#i.states.add("focused")}),this.#f.addEventListener("blur",()=>{this.#i.states.delete("focused")}),this.addEventListener("keydown",e=>{"Space"===e.code&&this.#i.states.has("focused")&&e.preventDefault(),this.#i.states.add("active")}),this.addEventListener("keyup",e=>{this.#i.states.has("focused")&&"Space"===e.code&&(this.#j(),this.#i.states.delete("active"))})}static get observedAttributes(){return["checked","disabled","tabindex","name","value"]}attributeChangedCallback(e,t,s){if(s!==t){if("checked"===e)null===s?this.#b=!1:this.#b=!0,this.#e||(this.#b?this.#i.states.add("checked"):this.#i.states.delete("checked"));else if("disabled"===e)null===s?(this.#i.states.delete("disabled"),this.#f.setAttribute("tabindex","0")):(this.#i.states.add("disabled"),this.#f.removeAttribute("tabindex"));else if("tabindex"===e){if(null===s)this.#c=0,this.#f.setAttribute("tabindex","0");else{let i=parseInt(s);isNaN(i)||i>=0?this.removeAttribute("tabindex"):this.#c=i}}else"name"===e?this.#d=String(s):"value"===e&&(null===s?this.#a="on":this.#a=s)}}get defaultChecked(){return this.#b}set defaultChecked(e){this.setAttribute("checked",e)}get checked(){return this.#i.states.has("checked")}set checked(e){this.#e||(this.#e=1),e?this.#i.states.add("checked"):this.#i.states.delete("checked")}get disabled(){return this.#i.states.has("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get tabIndex(){return this.#c}set tabIndex(e){let t=parseInt(e);!isNaN(t)&&t<0&&this.setAttribute("tabindex",t)}get name(){return this.#d}set name(e){this.setAttribute("name",e)}get value(){return this.#a}set value(e){this.setAttribute("value",e)}reset(){this.#e=0,this.#b?this.#i.states.add("checked"):this.#i.states.delete("checked")}}customElements.define("custom-checkbox",CustomCheckbox);